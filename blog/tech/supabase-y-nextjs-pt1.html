<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>GMARR | Aprendiendo Supabase &amp; NextJS PT I</title><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/f69083967af022db.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f69083967af022db.css" data-n-g=""/><link rel="preload" href="/_next/static/css/27d63a300b87bca5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/27d63a300b87bca5.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-49b6f2937c9ce9f4.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-208998328ec77b24.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b1ee5ab837b2bece.js" defer=""></script><script src="/_next/static/chunks/5-85f465805c106fa8.js" defer=""></script><script src="/_next/static/chunks/pages/blog/tech/%5Bpostid%5D-5592312e6f3559b1.js" defer=""></script><script src="/_next/static/XP9y3xXm4oT6j5U_5l_Gb/_buildManifest.js" defer=""></script><script src="/_next/static/XP9y3xXm4oT6j5U_5l_Gb/_ssgManifest.js" defer=""></script><script src="/_next/static/XP9y3xXm4oT6j5U_5l_Gb/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div><nav class="bg-gray-800"><div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"><div class="relative flex items-center justify-between h-16"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" id="headlessui-disclosure-button-undefined" type="button" aria-expanded="false"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div><div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"><div class="flex-shrink-0 flex items-center"><img class="block lg:hidden h-16 w-auto" src="https://imagesforpersonalsite.s3.us-west-2.amazonaws.com/gerlog.png" alt="Workflow" href="/index"/><img class="hidden lg:block h-16 w-auto hover:cursor-pointer" src="https://imagesforpersonalsite.s3.us-west-2.amazonaws.com/gerlog.png" alt="Workflow" href="/index"/></div><div class="hidden sm:block sm:ml-6"><div class="flex mt-3 ml-10 space-x-4"><a href="/" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</a><a href="/projects" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Projects</a><a href="/blog" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Blog</a></div></div></div><div class="absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"><div class="ml-3 relative"></div></div></div></div></nav><div class="flex-col items-center justify-center min-h-screen mt-9"><div class="flex-col items-center justify-start ml-11 md:ml-36 space-y-2"><h1 class="text-5xl font-bold">Aprendiendo Supabase &amp; NextJS PT I</h1></div><div class="flex-col items-center justify-start ml-11 md:ml-36 mt-2"><p class="text-sm font-extralight"><span class="font-normal">Fecha: </span> <!-- -->2021-12-07</p><p class="text-sm font-extralight"><span class="font-normal">Autor: </span> <!-- -->gmarr</p></div><div class="mx-8 md:mx-36 my-8"><div class="markdown-styles_markdown-body__39szf"><p>Antes de empezar tenemos que contestar la pregunta, <strong>¿Que es Supabase?</strong>. </p><p>Supabase es un sistema <em>Open Source</em> que nos permite gestionar muchas operaciones para el <em>back end</em> de nuestra aplicación web. Por ejemplo, Supabase nos da accesso a una base de datos de PostgreSQL en la nube. También nos da la habilidad de autentificar la entrada de usuarios a nuestra aplicación mediante distintos servicios como Google o Facebook.</p><p>NextJS es un  <em>framework</em> para desarrollar aplicaciones web construido sobre <em>React</em>. Ya en artículos pasados platique un poco sobre este servicio por lo que te invito a que cheques esos artículos si estas interesado en conocer más sobre esta tecnología. <a href="https://me.gmarr.com/blog/nextjs-ptI">Leer</a></p><p>Como primer paso tenemos que crear nuestra cuenta en Supabase. Lo puedes hacer <a href="https://supabase.com/">aquí</a>.
De igual forma tenemos que asegurarnos de que tenemos instalado NodeJS en nuestra computadora. Puedes descargarlo desde <a href="https://nodejs.org">aquí</a>.</p><p>Cómo último requerimiento, necesitamos tener una cuenta de <a href="https://github.com">Github</a> activa. Esta cuenta la vamos a utilizar para hacer la autorización de usuarios. </p><p>Ya que tenemos estos requerimientos, podemos comenzara a desarrollar nuestro proyecto. Para comenzar, iniciemos un proyecto de NextJS con Tailwind. Para hacer esto podemos utilizar el siguiente comando desde la terminal</p><pre><code class="language-bash">npx create-next-app -e with-tailwindcss ejemplo-tienda
</code></pre><p>Este comando nos generar todos los archivos necesarios para arrancar el desarrollo. Cuando la descarga este lista, podemos desplazarnos al archivo principal y usar el siguiente comando </p><pre><code class="language-bash">cd ejemplo-tienda
yarn dev
</code></pre><p>Este comando iniciará un servidor que, a su vez, desplegará la página de inicio en nuestro navegador predeterminado.</p><p>Ahora que tenemos nuestra aplicación de NextJS, hagamos un poco de limpieza. Dentro de la estructura de carpetas de nuestra app, busca la carpeta que se llama <code>pages&gt;index.js</code>. Borra todo lo que ahí aparece y coloca este código:</p><pre><code class="language-js">import Head from &#x27;next/head&#x27;
import { supabase } from &#x27;../utils/supabase&#x27;
import Link from &quot;next/link&quot;

export default function Home({lessons}) {
  console.log(supabase.auth.user());
  return (
    &lt;div className=&quot;flex flex-col items-center justify-center min-h-screen py-2 space-y-5&quot;&gt;
      &lt;Head&gt;
        &lt;title&gt;Mi Tienda&lt;/title&gt;
        &lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; /&gt;
      &lt;/Head&gt;

      &lt;h1 className=&quot;text-6xl font-semibold&quot;&gt;Mi Tienda&lt;/h1&gt;
    &lt;/div&gt;)
</code></pre><p>Ahora que tenemos nuestra base de archivos con NextJS, comenzemos con Supabase. </p><p>Si estas siguiendo el tutorial en órden, para este momento ya debes de tener una cuenta de Supabase activada. Ahora lo que procede es crear una organización nueva dentro de la plataforma. Cada organización dentro de Supabase estará compuesta de diferentes proyectos. Busca el botón <em>Create organization</em> y sigue las instrucciones en la pantalla. </p><p>Después, dentro de tu nueva organización, crea un nuevo proyecto con el nombre que quieras. En mi caso yo lo llame GMARR-STORE. </p><p>Ahora podemos proceder a crear una tabla que contendrá nuestros productos muestra. En la barre de iconos de lado izquierdo, busca el ícono de tables dale click y genera una tabla. </p><p>En nuestro caso vamos a crear una tabla que contiene 3 variables. Titulo, precio y descripción.
Agregamos 2 rows con esta información. Estas rows puede contener la información que queramos.</p><p>Una vez que tenemos nuestra tabla con los datos de prueba, regresemos a nuestro archivo de NextJS</p><h2>2. Haciendo queries a Supabase.</h2><p>Para pedir datos a Supabase, lo primero que tenemos que hacer es instalar la librería de JS. </p><pre><code class="language-js">yarn add @supabase/supabase-js
</code></pre><p>Después creamos una carpeta que se llame <code>utils &gt; supabase.js</code> dentro de nuestro Root folder y agregamos el siguiente código:</p><pre><code class="language-js">import { createClient } from &quot;@supabase/supabase-js&quot;;

export const supabase = createClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL,
    process.env.NEXT_PUBLIC_SUPABASE_KEY)
</code></pre><p>Este código lo que hará es conectarse a nuestra cuenta de Supabase. Al hacer esto tendremos acceso a todas las tablas que hayamos creado dentro de la plataforma, así como acceso a todos los modulos (cómo Auth, por ejemplo)</p><p>Para hacer esta conexión necesitamos un URL y una llave, ambos se localizan dentro de nuestra cuenta de Supabase. Para encontrarla solo debemos de dar click en &quot;Settings&gt;API&quot;. Buscar el URL y la anon key. Estas 2 piezas son las que nos permiten conectarnos a nuestra base de Supabase.</p><p>Regresamos al root folder de nuestro proyecto de NextJS y creamos un <em>file</em> que se llame .env.local este archivo tendrá guardado todas las <code>environmental variables</code> de nuestro proyecto.</p><p>Agregar el siguiente texto a este nuevo <em>file</em>:</p><pre><code class="language-txt">NEXT_PUBLIC_SUPABASE_URL = &lt;colocar_aqui_la_url_de_supabase&gt;
NEXT_PUBLIC_SUPABASE_KEY = &lt;colocar_la_anon_key_de_supabase&gt;
</code></pre><p>Ahora tenemos todas las piezas necesarias para traer nuestros productos de la base de Supabase a nuestro Frontend.</p><p><strong>3. <em>Fetching</em> desde Supabase</strong>
Regresamos a nuestro archivo <code>index.js</code> dentro del folder <code>pages</code> y usando la función de NextJs <code>getStaticProps()</code> traemos nuestros datos de Supabase.</p><pre><code class="language-js">//index.js
import Head from &#x27;next/head&#x27;
import { supabase } from &#x27;../utils/supabase&#x27;

export default function Home({products}) {
  console.log(products)
  return (
    &lt;div className=&quot;flex flex-col items-center justify-center min-h-screen py-2 space-y-5&quot;&gt;
      &lt;Head&gt;
        &lt;title&gt;Mi Tienda&lt;/title&gt;
        &lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; /&gt;
      &lt;/Head&gt;

      &lt;h1 className=&quot;text-6xl font-semibold&quot;&gt;Mi Tienda&lt;/h1&gt;
      {products.map(product=&gt;(
        &lt;p key={product.key}&gt;{product.title}&lt;/p&gt;
      ))}
    &lt;/div&gt;
  )}

export const getStaticProps = async() =&gt;{
  const {data: products} = await supabase.from(&quot;test_products&quot;).select(&quot;*&quot;)

  return{
    props:{
      products
    }
  }
}
</code></pre><p>Ahora para iniciar nuestro servidor y ver el trabajo que llevamos realizado, utiliza el siguiente comando desde la Terminal</p><pre><code class="language-shell">yarn dev
</code></pre><p>¡Listo! ahora tenemos acceso a nuestra base de datos de Supabase.</p></div></div></div><div class="bg-gray-900 mt-8"><div class="flex justify-center"><a rel="noreferrer" target="_blank" href="mailto:me@gmarr.com" class="text-gray-100 font-bold pt-5 hover:underline hover:cursor-pointer">me@gmarr.com</a></div><div class="flex justify-center space-x-9 mt-5 pb-5"><div class="text-right"><a target="_blank" rel="noreferrer" href="https://github.com/germarr/" class="text-gray-100 font-bold pt-5 hover:underline hover:cursor-pointer">Github</a></div><div class="text-center"><a target="_blank" rel="noreferrer" href="https://twitter.com/jerrypod/" class="text-gray-100 font-bold pt-5 hover:underline hover:cursor-pointer">Twitter</a></div><div class="text-left"><a target="_blank" rel="noreferrer" href="https://linkedin.com/in/martinezarroyogerardo" class="text-gray-100 font-bold pt-5 hover:underline hover:cursor-pointer">LinkedIn</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"results":[{"id":16,"title":"Aprendiendo Supabase \u0026 NextJS PT I","description":"En esta ocasión haremos un pequeño tutorial sobre como hacer una página utilizando Supabase, NextJS y TailwindCSS.","content":"Antes de empezar tenemos que contestar la pregunta, **¿Que es Supabase?**. \n\n\nSupabase es un sistema *Open Source* que nos permite gestionar muchas operaciones para el *back end* de nuestra aplicación web. Por ejemplo, Supabase nos da accesso a una base de datos de PostgreSQL en la nube. También nos da la habilidad de autentificar la entrada de usuarios a nuestra aplicación mediante distintos servicios como Google o Facebook.\n\nNextJS es un  *framework* para desarrollar aplicaciones web construido sobre *React*. Ya en artículos pasados platique un poco sobre este servicio por lo que te invito a que cheques esos artículos si estas interesado en conocer más sobre esta tecnología. [Leer](https://me.gmarr.com/blog/nextjs-ptI)\n\nComo primer paso tenemos que crear nuestra cuenta en Supabase. Lo puedes hacer [aquí](https://supabase.com/).\nDe igual forma tenemos que asegurarnos de que tenemos instalado NodeJS en nuestra computadora. Puedes descargarlo desde [aquí](https://nodejs.org ).\n\nCómo último requerimiento, necesitamos tener una cuenta de [Github](https://github.com) activa. Esta cuenta la vamos a utilizar para hacer la autorización de usuarios. \n\nYa que tenemos estos requerimientos, podemos comenzara a desarrollar nuestro proyecto. Para comenzar, iniciemos un proyecto de NextJS con Tailwind. Para hacer esto podemos utilizar el siguiente comando desde la terminal\n\n```bash\nnpx create-next-app -e with-tailwindcss ejemplo-tienda\n```\n\nEste comando nos generar todos los archivos necesarios para arrancar el desarrollo. Cuando la descarga este lista, podemos desplazarnos al archivo principal y usar el siguiente comando \n\n```bash\ncd ejemplo-tienda\nyarn dev\n```\n\nEste comando iniciará un servidor que, a su vez, desplegará la página de inicio en nuestro navegador predeterminado.\n\nAhora que tenemos nuestra aplicación de NextJS, hagamos un poco de limpieza. Dentro de la estructura de carpetas de nuestra app, busca la carpeta que se llama `pages\u003eindex.js`. Borra todo lo que ahí aparece y coloca este código:\n\n```js\nimport Head from 'next/head'\nimport { supabase } from '../utils/supabase'\nimport Link from \"next/link\"\n\nexport default function Home({lessons}) {\n  console.log(supabase.auth.user());\n  return (\n    \u003cdiv className=\"flex flex-col items-center justify-center min-h-screen py-2 space-y-5\"\u003e\n      \u003cHead\u003e\n        \u003ctitle\u003eMi Tienda\u003c/title\u003e\n        \u003clink rel=\"icon\" href=\"/favicon.ico\" /\u003e\n      \u003c/Head\u003e\n\n      \u003ch1 className=\"text-6xl font-semibold\"\u003eMi Tienda\u003c/h1\u003e\n    \u003c/div\u003e)\n```\nAhora que tenemos nuestra base de archivos con NextJS, comenzemos con Supabase. \n\nSi estas siguiendo el tutorial en órden, para este momento ya debes de tener una cuenta de Supabase activada. Ahora lo que procede es crear una organización nueva dentro de la plataforma. Cada organización dentro de Supabase estará compuesta de diferentes proyectos. Busca el botón *Create organization* y sigue las instrucciones en la pantalla. \n\nDespués, dentro de tu nueva organización, crea un nuevo proyecto con el nombre que quieras. En mi caso yo lo llame GMARR-STORE. \n\nAhora podemos proceder a crear una tabla que contendrá nuestros productos muestra. En la barre de iconos de lado izquierdo, busca el ícono de tables dale click y genera una tabla. \n\nEn nuestro caso vamos a crear una tabla que contiene 3 variables. Titulo, precio y descripción. \nAgregamos 2 rows con esta información. Estas rows puede contener la información que queramos.\n\nUna vez que tenemos nuestra tabla con los datos de prueba, regresemos a nuestro archivo de NextJS\n\n## 2. Haciendo queries a Supabase.\n\nPara pedir datos a Supabase, lo primero que tenemos que hacer es instalar la librería de JS. \n\n```js\nyarn add @supabase/supabase-js\n```\n\nDespués creamos una carpeta que se llame `utils \u003e supabase.js` dentro de nuestro Root folder y agregamos el siguiente código:\n\n```js\nimport { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_KEY)\n```\nEste código lo que hará es conectarse a nuestra cuenta de Supabase. Al hacer esto tendremos acceso a todas las tablas que hayamos creado dentro de la plataforma, así como acceso a todos los modulos (cómo Auth, por ejemplo)\n\nPara hacer esta conexión necesitamos un URL y una llave, ambos se localizan dentro de nuestra cuenta de Supabase. Para encontrarla solo debemos de dar click en \"Settings\u003eAPI\". Buscar el URL y la anon key. Estas 2 piezas son las que nos permiten conectarnos a nuestra base de Supabase.\n\nRegresamos al root folder de nuestro proyecto de NextJS y creamos un *file* que se llame .env.local este archivo tendrá guardado todas las `environmental variables` de nuestro proyecto.\n\nAgregar el siguiente texto a este nuevo *file*:\n\n```txt\nNEXT_PUBLIC_SUPABASE_URL = \u003ccolocar_aqui_la_url_de_supabase\u003e\nNEXT_PUBLIC_SUPABASE_KEY = \u003ccolocar_la_anon_key_de_supabase\u003e\n```\n\nAhora tenemos todas las piezas necesarias para traer nuestros productos de la base de Supabase a nuestro Frontend.\n\n**3. *Fetching* desde Supabase**\nRegresamos a nuestro archivo `index.js` dentro del folder `pages` y usando la función de NextJs `getStaticProps()` traemos nuestros datos de Supabase.\n\n```js\n//index.js\nimport Head from 'next/head'\nimport { supabase } from '../utils/supabase'\n\nexport default function Home({products}) {\n  console.log(products)\n  return (\n    \u003cdiv className=\"flex flex-col items-center justify-center min-h-screen py-2 space-y-5\"\u003e\n      \u003cHead\u003e\n        \u003ctitle\u003eMi Tienda\u003c/title\u003e\n        \u003clink rel=\"icon\" href=\"/favicon.ico\" /\u003e\n      \u003c/Head\u003e\n\n      \u003ch1 className=\"text-6xl font-semibold\"\u003eMi Tienda\u003c/h1\u003e\n      {products.map(product=\u003e(\n        \u003cp key={product.key}\u003e{product.title}\u003c/p\u003e\n      ))}\n    \u003c/div\u003e\n  )}\n\nexport const getStaticProps = async() =\u003e{\n  const {data: products} = await supabase.from(\"test_products\").select(\"*\")\n\n  return{\n    props:{\n      products\n    }\n  }\n}\n``` \n\nAhora para iniciar nuestro servidor y ver el trabajo que llevamos realizado, utiliza el siguiente comando desde la Terminal\n\n```shell\nyarn dev\n```\n¡Listo! ahora tenemos acceso a nuestra base de datos de Supabase.","slug":"supabase-y-nextjs-pt1","published_at":"2021-12-07T14:54:54.362Z","created_at":"2021-12-03T15:11:56.586Z","updated_at":"2021-12-19T15:34:37.852Z","user":{"id":1,"username":"gmarr","email":"me@gmarr.com","provider":"local","confirmed":true,"blocked":false,"role":1,"created_at":"2021-09-27T19:44:38.166Z","updated_at":"2021-09-27T19:46:35.202Z"}}],"source":{"compiledSource":"var u=Object.defineProperty,l=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var t=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var i=(e,a,o)=\u003ea in e?u(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,s=(e,a)=\u003e{for(var o in a||(a={}))t.call(a,o)\u0026\u0026i(e,o,a[o]);if(n)for(var o of n(a))p.call(a,o)\u0026\u0026i(e,o,a[o]);return e},c=(e,a)=\u003el(e,m(a));var d=(e,a)=\u003e{var o={};for(var r in e)t.call(e,r)\u0026\u0026a.indexOf(r)\u003c0\u0026\u0026(o[r]=e[r]);if(e!=null\u0026\u0026n)for(var r of n(e))a.indexOf(r)\u003c0\u0026\u0026p.call(e,r)\u0026\u0026(o[r]=e[r]);return o};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(o){var r=o,{components:e}=r,a=d(r,[\"components\"]);return mdx(MDXLayout,c(s(s({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Antes de empezar tenemos que contestar la pregunta, \",mdx(\"strong\",{parentName:\"p\"},\"\\xBFQue es Supabase?\"),\". \"),mdx(\"p\",null,\"Supabase es un sistema \",mdx(\"em\",{parentName:\"p\"},\"Open Source\"),\" que nos permite gestionar muchas operaciones para el \",mdx(\"em\",{parentName:\"p\"},\"back end\"),\" de nuestra aplicaci\\xF3n web. Por ejemplo, Supabase nos da accesso a una base de datos de PostgreSQL en la nube. Tambi\\xE9n nos da la habilidad de autentificar la entrada de usuarios a nuestra aplicaci\\xF3n mediante distintos servicios como Google o Facebook.\"),mdx(\"p\",null,\"NextJS es un  \",mdx(\"em\",{parentName:\"p\"},\"framework\"),\" para desarrollar aplicaciones web construido sobre \",mdx(\"em\",{parentName:\"p\"},\"React\"),\". Ya en art\\xEDculos pasados platique un poco sobre este servicio por lo que te invito a que cheques esos art\\xEDculos si estas interesado en conocer m\\xE1s sobre esta tecnolog\\xEDa. \",mdx(\"a\",s({parentName:\"p\"},{href:\"https://me.gmarr.com/blog/nextjs-ptI\"}),\"Leer\")),mdx(\"p\",null,\"Como primer paso tenemos que crear nuestra cuenta en Supabase. Lo puedes hacer \",mdx(\"a\",s({parentName:\"p\"},{href:\"https://supabase.com/\"}),\"aqu\\xED\"),`.\nDe igual forma tenemos que asegurarnos de que tenemos instalado NodeJS en nuestra computadora. Puedes descargarlo desde `,mdx(\"a\",s({parentName:\"p\"},{href:\"https://nodejs.org\"}),\"aqu\\xED\"),\".\"),mdx(\"p\",null,\"C\\xF3mo \\xFAltimo requerimiento, necesitamos tener una cuenta de \",mdx(\"a\",s({parentName:\"p\"},{href:\"https://github.com\"}),\"Github\"),\" activa. Esta cuenta la vamos a utilizar para hacer la autorizaci\\xF3n de usuarios. \"),mdx(\"p\",null,\"Ya que tenemos estos requerimientos, podemos comenzara a desarrollar nuestro proyecto. Para comenzar, iniciemos un proyecto de NextJS con Tailwind. Para hacer esto podemos utilizar el siguiente comando desde la terminal\"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-bash\"}),`npx create-next-app -e with-tailwindcss ejemplo-tienda\n`)),mdx(\"p\",null,\"Este comando nos generar todos los archivos necesarios para arrancar el desarrollo. Cuando la descarga este lista, podemos desplazarnos al archivo principal y usar el siguiente comando \"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-bash\"}),`cd ejemplo-tienda\nyarn dev\n`)),mdx(\"p\",null,\"Este comando iniciar\\xE1 un servidor que, a su vez, desplegar\\xE1 la p\\xE1gina de inicio en nuestro navegador predeterminado.\"),mdx(\"p\",null,\"Ahora que tenemos nuestra aplicaci\\xF3n de NextJS, hagamos un poco de limpieza. Dentro de la estructura de carpetas de nuestra app, busca la carpeta que se llama \",mdx(\"inlineCode\",{parentName:\"p\"},\"pages\u003eindex.js\"),\". Borra todo lo que ah\\xED aparece y coloca este c\\xF3digo:\"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-js\"}),`import Head from 'next/head'\nimport { supabase } from '../utils/supabase'\nimport Link from \"next/link\"\n\nexport default function Home({lessons}) {\n  console.log(supabase.auth.user());\n  return (\n    \u003cdiv className=\"flex flex-col items-center justify-center min-h-screen py-2 space-y-5\"\u003e\n      \u003cHead\u003e\n        \u003ctitle\u003eMi Tienda\u003c/title\u003e\n        \u003clink rel=\"icon\" href=\"/favicon.ico\" /\u003e\n      \u003c/Head\u003e\n\n      \u003ch1 className=\"text-6xl font-semibold\"\u003eMi Tienda\u003c/h1\u003e\n    \u003c/div\u003e)\n`)),mdx(\"p\",null,\"Ahora que tenemos nuestra base de archivos con NextJS, comenzemos con Supabase. \"),mdx(\"p\",null,\"Si estas siguiendo el tutorial en \\xF3rden, para este momento ya debes de tener una cuenta de Supabase activada. Ahora lo que procede es crear una organizaci\\xF3n nueva dentro de la plataforma. Cada organizaci\\xF3n dentro de Supabase estar\\xE1 compuesta de diferentes proyectos. Busca el bot\\xF3n \",mdx(\"em\",{parentName:\"p\"},\"Create organization\"),\" y sigue las instrucciones en la pantalla. \"),mdx(\"p\",null,\"Despu\\xE9s, dentro de tu nueva organizaci\\xF3n, crea un nuevo proyecto con el nombre que quieras. En mi caso yo lo llame GMARR-STORE. \"),mdx(\"p\",null,\"Ahora podemos proceder a crear una tabla que contendr\\xE1 nuestros productos muestra. En la barre de iconos de lado izquierdo, busca el \\xEDcono de tables dale click y genera una tabla. \"),mdx(\"p\",null,`En nuestro caso vamos a crear una tabla que contiene 3 variables. Titulo, precio y descripci\\xF3n.\nAgregamos 2 rows con esta informaci\\xF3n. Estas rows puede contener la informaci\\xF3n que queramos.`),mdx(\"p\",null,\"Una vez que tenemos nuestra tabla con los datos de prueba, regresemos a nuestro archivo de NextJS\"),mdx(\"h2\",null,\"2. Haciendo queries a Supabase.\"),mdx(\"p\",null,\"Para pedir datos a Supabase, lo primero que tenemos que hacer es instalar la librer\\xEDa de JS. \"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-js\"}),`yarn add @supabase/supabase-js\n`)),mdx(\"p\",null,\"Despu\\xE9s creamos una carpeta que se llame \",mdx(\"inlineCode\",{parentName:\"p\"},\"utils \u003e supabase.js\"),\" dentro de nuestro Root folder y agregamos el siguiente c\\xF3digo:\"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-js\"}),`import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_KEY)\n`)),mdx(\"p\",null,\"Este c\\xF3digo lo que har\\xE1 es conectarse a nuestra cuenta de Supabase. Al hacer esto tendremos acceso a todas las tablas que hayamos creado dentro de la plataforma, as\\xED como acceso a todos los modulos (c\\xF3mo Auth, por ejemplo)\"),mdx(\"p\",null,'Para hacer esta conexi\\xF3n necesitamos un URL y una llave, ambos se localizan dentro de nuestra cuenta de Supabase. Para encontrarla solo debemos de dar click en \"Settings\u003eAPI\". Buscar el URL y la anon key. Estas 2 piezas son las que nos permiten conectarnos a nuestra base de Supabase.'),mdx(\"p\",null,\"Regresamos al root folder de nuestro proyecto de NextJS y creamos un \",mdx(\"em\",{parentName:\"p\"},\"file\"),\" que se llame .env.local este archivo tendr\\xE1 guardado todas las \",mdx(\"inlineCode\",{parentName:\"p\"},\"environmental variables\"),\" de nuestro proyecto.\"),mdx(\"p\",null,\"Agregar el siguiente texto a este nuevo \",mdx(\"em\",{parentName:\"p\"},\"file\"),\":\"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-txt\"}),`NEXT_PUBLIC_SUPABASE_URL = \u003ccolocar_aqui_la_url_de_supabase\u003e\nNEXT_PUBLIC_SUPABASE_KEY = \u003ccolocar_la_anon_key_de_supabase\u003e\n`)),mdx(\"p\",null,\"Ahora tenemos todas las piezas necesarias para traer nuestros productos de la base de Supabase a nuestro Frontend.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"3. \",mdx(\"em\",{parentName:\"strong\"},\"Fetching\"),\" desde Supabase\"),`\nRegresamos a nuestro archivo `,mdx(\"inlineCode\",{parentName:\"p\"},\"index.js\"),\" dentro del folder \",mdx(\"inlineCode\",{parentName:\"p\"},\"pages\"),\" y usando la funci\\xF3n de NextJs \",mdx(\"inlineCode\",{parentName:\"p\"},\"getStaticProps()\"),\" traemos nuestros datos de Supabase.\"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-js\"}),`//index.js\nimport Head from 'next/head'\nimport { supabase } from '../utils/supabase'\n\nexport default function Home({products}) {\n  console.log(products)\n  return (\n    \u003cdiv className=\"flex flex-col items-center justify-center min-h-screen py-2 space-y-5\"\u003e\n      \u003cHead\u003e\n        \u003ctitle\u003eMi Tienda\u003c/title\u003e\n        \u003clink rel=\"icon\" href=\"/favicon.ico\" /\u003e\n      \u003c/Head\u003e\n\n      \u003ch1 className=\"text-6xl font-semibold\"\u003eMi Tienda\u003c/h1\u003e\n      {products.map(product=\u003e(\n        \u003cp key={product.key}\u003e{product.title}\u003c/p\u003e\n      ))}\n    \u003c/div\u003e\n  )}\n\nexport const getStaticProps = async() =\u003e{\n  const {data: products} = await supabase.from(\"test_products\").select(\"*\")\n\n  return{\n    props:{\n      products\n    }\n  }\n}\n`)),mdx(\"p\",null,\"Ahora para iniciar nuestro servidor y ver el trabajo que llevamos realizado, utiliza el siguiente comando desde la Terminal\"),mdx(\"pre\",null,mdx(\"code\",s({parentName:\"pre\"},{className:\"language-shell\"}),`yarn dev\n`)),mdx(\"p\",null,\"\\xA1Listo! ahora tenemos acceso a nuestra base de datos de Supabase.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true},"page":"/blog/tech/[postid]","query":{"postid":"supabase-y-nextjs-pt1"},"buildId":"XP9y3xXm4oT6j5U_5l_Gb","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>